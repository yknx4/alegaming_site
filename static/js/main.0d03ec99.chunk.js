(this.webpackJsonpalegaming=this.webpackJsonpalegaming||[]).push([[0],{178:function(e,t,a){},235:function(e,t,a){e.exports=a(416)},240:function(e,t,a){},247:function(e,t,a){},390:function(e,t,a){},416:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=(a(240),a(22)),l=a.n(o),u=a(35),s=a(18),m=(a(178),a(418)),A=a(175),d=a(211),f=a(439),p=a(437),v=a(440),b=a(441),E=a(40),g=a(64),h=a(96),O=a(74),j=a(38),y=a(69),x=a(419),w=a(108),k=a(227),S=a(426),I=a(417),_=a(421),C=a(230),T=a(434),V=a(435),z=a(44),L=a(85),B=a(86),M=a(91),R=a(130),X=a(81),F=function(e){Object(B.a)(a,e);var t=Object(M.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return a}(Object(R.a)(Error)),P=Object(X.createLocalStorageStateHook)("chatboxUrl"),D="https://streamlabs.com/widgets/chat-box/v1/";function N(){var e,t=JSON.parse(null!==(e=window.localStorage.getItem("chatboxUrl"))&&void 0!==e?e:'""');return console.log("storedUrl",t),null===t?(console.error("storedUrl is null"),!1):!!t.startsWith(D)||(console.error("storedUrl <".concat(t,"> doesn't start with <").concat(D,">.")),!1)}var U=null;function H(){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===U){e.next=2;break}return e.abrupt("return",U);case 2:return a=JSON.parse(null!==(t=window.localStorage.getItem("chatboxUrl"))&&void 0!==t?t:'""'),e.next=5,fetch("https://murmuring-plateau-21894.herokuapp.com/?url=".concat(a),{headers:{"x-token":"eQ1z8bmURCR2Odtg4NR8M"}});case 5:if((n=e.sent).ok){e.next=8;break}throw new F("localStorage.chatboxUrl is empty or invalid.");case 8:return e.next=10,n.json();case 10:return r=e.sent,U=r,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Error,Error;function q(){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return t=e.sent,e.abrupt("return",t.oauths.facebook_account);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return t=e.sent,e.abrupt("return",t.usernames.facebook_account);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t2="https://graph.facebook.com/",e.next=4,K();case 4:return e.t3=e.sent,e.t1=e.t2.concat.call(e.t2,e.t3,"/accounts?access_token="),e.next=8,q();case 8:return e.t4=e.sent,e.t5=e.t1.concat.call(e.t1,e.t4),e.next=12,(0,e.t0)(e.t5);case 12:return t=e.sent,e.abrupt("return",t.json());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return $.apply(this,arguments)}function $(){return($=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:return a=e.sent,e.abrupt("return",a.data.find((function(e){return e.id===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=Object(X.createLocalStorageStateHook)("persistedVideoData",{}),te=Object(X.createLocalStorageStateHook)("lastSelectedVideoInfo"),ae=Object(X.createLocalStorageStateHook)("lastSelectedVideoComments",[]);function ne(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return new Promise((function(n,r){FB.api(e,a,t,(function(e){if(null==e&&r(new Error("Empty Response")),null!=e.error){var t=e,a="string"===typeof t.error?t.error:"FB Api Error";console.error(e),r(new Error(a))}n(e)}))}))}function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push.apply(a,Object(O.a)(t.data));case 2:if(void 0===(null===(n=t.paging)||void 0===n?void 0:n.next)){e.next=12;break}return e.next=5,fetch(t.paging.next);case 5:return r=e.sent,e.next=8,r.json();case 8:t=e.sent,a.push.apply(a,Object(O.a)(t.data)),e.next=2;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(234);var ie=new(function(e){Object(B.a)(a,e);var t=Object(M.a)(a);function a(){var e;return Object(L.a)(this,a),(e=t.call(this,"MessageDatabase")).messages=void 0,e.version(5).stores({messages:"id,user,pageId,videoId,[message+user],[message+videoId],[message+userId]"}),e.messages=e.table("messages"),e}return a}(a(207).a));function oe(e,t,a){return{id:e.id.toString(),message:e.message,createdTime:e.created_time,user:e.from.name,pageId:a,userPicture:e.from.picture.data.url,userId:e.from.id,broadcastTimestamp:e.live_broadcast_timestamp,videoId:t,likeCount:e.like_count}}function le(e){var t,a,n,r,c,i,o,l;return{id:null!==(t=e.id)&&void 0!==t?t:"",message:null!==(a=e.message)&&void 0!==a?a:"Unknown Message",created_time:null!==(n=e.createdTime)&&void 0!==n?n:(new Date).toISOString(),like_count:null!==(r=e.likeCount)&&void 0!==r?r:0,live_broadcast_timestamp:null!==(c=e.broadcastTimestamp)&&void 0!==c?c:0,from:{id:null!==(i=e.userId)&&void 0!==i?i:"",name:null!==(o=e.user)&&void 0!==o?o:"Unknown Name",picture:{data:{url:null!==(l=e.userPicture)&&void 0!==l?l:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxQHBhIRBxIOExAQEREVFxYVDRcVExIVGBIWFhUSFRUYHSggGh0lGxcVLTEhJSkrLi4uFx8zODMsNygtLisBCgoKDQ0NFQ4PEjEZFRkrKysrLTctLSsrKzctNysrLSsrNy0tKysrKy0rLSsrKysrKysrKystLSsrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAAAwQFBgIBB//EADUQAQABAgMDCQcEAwEAAAAAAAABAgMEBRESITETQVFhcYGhscEUIjI0kdHwQlKS4SRy8SP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAMAwEAAhEDEQA/AP0wBpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHqiiblWlETMg8vsRrOkcV2jLKqvjmmPGWjh8NTh6fcjf088mjMtZdXX8WlPbx+kJ4yr91U/xaQmqzpyqOaqf4o68rqj4KontjRqhowbuErtfHTOnTG+EDpVTE4Gm9GtO6rp6e2DUxij3dtTZr0uRv/N8PCgAAAAAAAAAAAAAAAAAA3MDh+Qsxr8U75+zHw9O3iKY6aodClABFAAAAAAQYzDxiLWnPHCWFMaTpPGHSMjNbWxfiqP1ecfkLBRAVAAAAAAAAAAAAAAAAFnL41xlPf5S3GHlvzlPf5S3EpABFAAAAAAFLNaNrC6/tmPt6rqtmM/4dWvV5wDDAaQAAAAAAAAAAAAAAABZy75ynv8pbjCwE6Yynt9JbqVQBAAAAAAAYmZVTOLmJmdI07t0Ntg46dcZV2+iwQAKgAAAAAAAAAAAAAAACfBRPtNMxE7qo5m8hwdGxhqYp6In6pkqgCAAAAAAAwMXExiatqJjWqebrb6pmdG1hJmeMaTH1WDFAVAAAAAAAAAAAAAAAAG5l9e3hKerd9Flm5Pc3VUz2+k+jSZqgAAAAAAAClm1ezhtP3THhv+y6yc2ubV6KY/THjKwUAFQAAAAAAAAAAAAAAABJh702LsVU/wDYbeFv+0WdqI047tWA08nubqqZ7fSfQo0gGVAAAAAAQYvEez2tdNd+nFh3bk3LkzVxmWhnFe+mmOufSPVmtRAAAAAAAAAAAAAAAAAABNhL3IYiJnhwnsQgOlidY3CllVya7GlX6Z0hdZUAAAABWzGuaMJOzz6R9QZWMu8tiZmOHCOyEANIAAAAAAAAAAAAAAAAAAAA2MpjTDT11T5RC6rZfTsYOnr1n6zqssqAAAAK2YxtYOru84WUeIp27FURz0zHgDngGkAAAAAAAAAAAAAAAAAAHqinbriKeMzoUUzXVpREzLVwGC5Gdq78XkC7TGzTERzQ+gyoAAAAADn8Vb5LEVR1+E8ETbx2E9op1p3VRw6+qWPctzaq0uRMS1EeAAAAAAAAAAAAAAB9iNqdKd8r2Hy2a997dHRz/wBAo007c6URMz1L+Hyyat9+dI6I4tGzZps06W4iPOe9ImmI7VmmzTpbiISAigAAAAAAADzctxcp0riJh6AZmIyznsT3T6Sz7lubdWlyJiXRvFy3F2nS5ETC6mOdGjiMs034ee6fSVCuiaKtK4mJ61HkAAAAAAH2N87gfFvC4Gq9vq92nxnshbwWA2I2r++ejmj+19NENjD02I/847+ee9MCKAAAAAAAAAAAAAAAAI71mm9TpciJ/OlIAyMVl8299r3o8Y+6i6VTxmBi/GtG6rwntXUYw9VUzRVMVRpMPKgAA0sqw2vv1933Z1MbVURHGZ0dFbo5O3EU8IjQo9AMqAAAAAAAAAAAAAAAAAAAAAAo5nh9u3t08aePXDIdLMaxvc9ft8leqp6J8OZYiMBRLhfmaP8AanzdACUgAigAAAAAAAAAAAAAAAAAAAAADEzL5yru8oBYKoCsv//Z"}}}}}function ue(e,t,a){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark((function e(t,a,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return oe(e,a,n)})),e.next=3,ie.messages.bulkAdd(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=a(422),Ae=a(424),de=a(427),fe=a(60),pe=(a(247),a(59));function ve(e){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.messages.where({videoId:t}).toArray();case 2:return a=e.sent,e.abrupt("return",a.map(le));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=Object(n.createContext)(void 0),ge=a(76);function he(e){return e.map((function(e){var t=pe.DateTime.fromISO(e.created_time);return{actions:[],author:e.from.name,avatar:e.from.picture.data.url,content:r.a.createElement("p",null,e.message),datetime:r.a.createElement(ge.a,{title:t.toLocaleString(pe.DateTime.TIME_24_WITH_SECONDS)},r.a.createElement("span",null,t.toRelative()))}}))}var Oe={roundSize:5,messages:{},winners:[]},je=Object(z.memoize)((function(e){return Object(X.createLocalStorageStateHook)("custom-video-settings-".concat(e),Oe)})),ye=a(428),xe=a(429),we=a(430),ke=a(431),Se=a(432),Ie=a(433);function _e(e,t){return[r.a.createElement(ge.a,{key:"comment-priority",title:e.priority?"Normal":"Priority"},r.a.createElement("span",{onClick:function(){t({priority:!e.priority})}},Object(n.createElement)(e.priority?ye.a:xe.a))),r.a.createElement(ge.a,{key:"comment-basic-position",title:e.down?"Move Up":"Move Down"},r.a.createElement("span",{onClick:function(){t({down:!e.down})}},Object(n.createElement)(e.down?we.a:ke.a))),r.a.createElement(ge.a,{key:"comment-basic-hide",title:e.hidden?"Show":"Hide"},r.a.createElement("span",{onClick:function(){t({hidden:!e.hidden})}},r.a.createElement(e.hidden?Se.a:Ie.a)))]}var Ce={hidden:!1,down:!1,priority:!1};function Te(e,t,a){return e.map((function(e){var n,c,i=pe.DateTime.fromISO(e.created_time);return{actions:_e(null!==(n=t.messages[e.id])&&void 0!==n?n:Ce,(c=e.id,function(e){a((function(t){var a,n=null!==(a=t.messages[c])&&void 0!==a?a:Ce,r=Object(j.a)(Object(j.a)({},n),e);return Object(j.a)(Object(j.a)({},t),{},{messages:Object(j.a)(Object(j.a)({},t.messages),{},Object(h.a)({},c,r))})}))})),author:e.from.name,avatar:e.from.picture.data.url,content:r.a.createElement("p",null,e.message),datetime:r.a.createElement(ge.a,{title:i.toLocaleString(pe.DateTime.TIME_WITH_SECONDS)},r.a.createElement("span",null,i.toRelative()))}}))}var Ve=function(e){var t=e.comments,a=e.perPage,c=e.text,i=Object(E.i)().id,o=Object(n.useState)(1),l=Object(s.a)(o,2),u=l[0],m=l[1],A=je(i)(),d=Object(s.a)(A,2),f=d[0],p=d[1],v=(u-1)*a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.b,{className:"comment-list",header:"".concat(t.length," ").concat(c),itemLayout:"horizontal",dataSource:Te(t.slice(v,v+a),f,p),renderItem:function(e){return r.a.createElement("li",null,r.a.createElement(I.a,{actions:e.actions,author:e.author,avatar:e.avatar,content:e.content,datetime:e.datetime}))}}),r.a.createElement(k.a,{current:u,onChange:function(e){return m(e)},total:t.length,showSizeChanger:!1,defaultPageSize:10,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," ").concat(c)},defaultCurrent:1}))};function ze(e,t){var a=e.filter((function(e){var a;return!(null!==(a=t.messages[e.id])&&void 0!==a?a:Ce).priority})).filter((function(e){var a;return!(null!==(a=t.messages[e.id])&&void 0!==a?a:Ce).hidden})).filter((function(e){var a;return!(null!==(a=t.messages[e.id])&&void 0!==a?a:Ce).down})),n=e.filter((function(e){var a;return(null!==(a=t.messages[e.id])&&void 0!==a?a:Ce).priority})),r=e.filter((function(e){var a;return(null!==(a=t.messages[e.id])&&void 0!==a?a:Ce).down&&!n.includes(e)}));return[].concat(Object(O.a)(n),Object(O.a)(a),Object(O.a)(r))}function Le(e,t){return Object(z.uniqBy)(Object(z.orderBy)(e,(function(e){return pe.DateTime.fromISO(e.created_time).toMillis()}),"asc").filter((function(e){var a;return e.message.includes("!")&&e.message.toLowerCase().includes("notify")&&(null!==(a=e.from.name!==t)&&void 0!==a?a:"UNKNOWN PAGE")})),(function(e){return e.from.id}))}function Be(){var e,t,a=Object(E.i)().id,c=Object(n.useContext)(Ee),i=c.page,o=c.videos,m=Object(n.useState)([]),A=Object(s.a)(m,2),d=A[0],f=A[1],p=je(a)(),v=Object(s.a)(p,2),b=v[0],g=v[1],h=o.find((function(e){return e.id===a}));if(Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,ve(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),0===d.length||"LIVE"===h.status||(null!==(e=null===(t=b.winners)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0)return r.a.createElement(r.a.Fragment,null);var O=Le(d,i.name);return r.a.createElement(fe.a,{type:"ghost",onClick:function(){var e=Object(z.sampleSize)(O,3).map((function(e){return e.from}));g((function(t){return Object(j.a)(Object(j.a)({},t),{},{winners:e})}))}},"Giveaway!")}var Me=me.a.Paragraph,Re=function(e){var t=e.children,a=e.extraContent;return r.a.createElement(w.a,null,r.a.createElement("div",{style:{flex:1}},t),r.a.createElement("div",{className:"image"},a))};function Xe(){var e,t,a=Object(E.i)().id,n=je(a)(),c=Object(s.a)(n,1)[0];return 0===(null!==(e=null===(t=c.winners)||void 0===t?void 0:t.length)&&void 0!==e?e:0)?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,c.winners.map((function(e){return r.a.createElement(I.a,{key:"winner-".concat(e.id),avatar:e.picture.data.url,author:e.name,content:"Giveaway Winner"})})))}var Fe=function(e){var t=e.liveVideo,a=Object(E.g)(),n=pe.DateTime.fromISO(t.creation_time);return r.a.createElement(Ae.a,{title:t.title,onBack:function(){return a.goBack()},className:"site-page-header",subTitle:n.toLocaleString(pe.DateTime.DATETIME_MED),tags:r.a.createElement(de.a,{color:"blue"},t.status),extra:[r.a.createElement(fe.a,{key:"1",type:"primary",target:"_blank",href:"https://facebook.com/".concat(t.permalink_url)},"Open"),r.a.createElement(Be,{key:"2"})],avatar:{src:t.video.icon}},r.a.createElement(Re,{extraContent:r.a.createElement("img",{src:t.video.picture,alt:t.title,width:"100%"})},r.a.createElement(Me,null,t.description),r.a.createElement(Xe,null)))};function Pe(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),m=o[0],A=o[1],d=Object(n.useState)(),f=Object(s.a)(d,2),p=f[0],v=f[1];return Object(n.useEffect)((function(){!0===r&&function(){var t=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:a=t.sent,FB.api("/".concat(e,"/live_videos"),"get",{access_token:null===a||void 0===a?void 0:a.access_token,fields:"status,creation_time,broadcast_start_time,description,embed_html,id,live_views,title,permalink_url,video{id,picture,icon}"},(function(e){c(!0),A(e.data),v(a),c(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[r,e]),[r,p,m]}var De=m.a.Content,Ne={limit:100,live_filter:"no_filter",order:"reverse_chronological",fields:"from{name,id,picture},message,id,created_time,like_count,live_broadcast_timestamp"},Ue=function(e){var t=e.video,a=e.span,n=void 0===a?8:a,c=e.onClick,i=void 0===c?function(){}:c,o="LIVE"===t.status?r.a.createElement(T.a,null):r.a.createElement(V.a,null);return r.a.createElement(y.a,{span:n},r.a.createElement(x.a,{bordered:!1,hoverable:"LIVE"===t.status,onClick:function(){return i(t)},cover:r.a.createElement("img",{alt:t.title,src:t.video.picture})},r.a.createElement(x.a.Meta,{title:t.title,description:t.description,avatar:o})))},He=function(e){var t=e.videos,a=Object(n.useState)(1),c=Object(s.a)(a,2),i=c[0],o=c[1],l=Object(E.g)(),u=6*(i-1),m=Object(E.i)().pageId;return r.a.createElement(De,{style:{margin:"0 16px"}},r.a.createElement(C.a,{style:{margin:"16px 0"}},r.a.createElement(C.a.Item,null,"LiaKumStreams"),r.a.createElement(C.a.Item,null,"Live Videos")),r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(w.a,{gutter:16},t.slice(u,u+6).map((function(e){return r.a.createElement(Ue,{key:"video-".concat(e.id),video:e,onClick:function(e){return l.push("/".concat(m,"/live_videos/").concat(e.id))}})}))),r.a.createElement(w.a,{gutter:16},r.a.createElement(k.a,{current:i,onChange:function(e){return o(e)},total:t.length,showSizeChanger:!1,defaultPageSize:6,defaultCurrent:1}))))},Qe=function(e){var t=e.comments,a=e.perPage,c=e.text,i=Object(n.useState)(1),o=Object(s.a)(i,2),l=o[0],u=o[1],m=(l-1)*a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.b,{className:"comment-list",header:"".concat(t.length," ").concat(c),itemLayout:"horizontal",dataSource:he(t.slice(m,m+a)),renderItem:function(e){return r.a.createElement("li",null,r.a.createElement(I.a,{actions:e.actions,author:e.author,avatar:e.avatar,content:e.content,datetime:e.datetime}))}}),r.a.createElement(k.a,{current:l,onChange:function(e){return u(e)},total:t.length,showSizeChanger:!1,defaultPageSize:10,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," ").concat(c)},defaultCurrent:1}))};var qe=function(e){var t=e.video,a=Object(n.useContext)(Ee).page,c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],m=i[1],A=Object(n.useState)([]),d=Object(s.a)(A,2),f=d[0],p=d[1],v=ae(),b=Object(s.a)(v,2)[1],g=je(t.id)(),h=Object(s.a)(g,2),w=h[0],k=h[1],S=Object(E.i)().pageId,I=w.roundSize;Object(n.useEffect)((function(){var e=function(e){return b(e),p(e)},n=t.broadcast_start_time,r=function(){var r=Object(u.a)(l.a.mark((function r(){var c,i;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("LIVE"===t.status){r.next=11;break}return r.t0=e,r.t1=z.sortBy,r.next=5,ve(t.id);case 5:return r.t2=r.sent,r.t3=function(e){return pe.DateTime.fromISO(e.created_time).toMillis()},r.t4=(0,r.t1)(r.t2,r.t3).reverse(),(0,r.t0)(r.t4),m(!0),r.abrupt("return");case 11:return r.next=13,ne("".concat(t.id,"/comments"),Object(j.a)(Object(j.a)({},Ne),{},{access_token:a.access_token}));case 13:return c=r.sent,r.next=16,re(c);case 16:return i=r.sent,e(i),i.length>0&&(n=i[0].created_time),m(!0),r.abrupt("return");case 21:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),c=setInterval(Object(u.a)(l.a.mark((function r(){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("LIVE"===t.status){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ne("".concat(t.id,"/comments"),Object(j.a)(Object(j.a)({},Ne),{},{since:n,access_token:a.access_token}));case 4:(c=r.sent).data.length>0&&(n=c.data[0].created_time),e((function(e){return Object(z.uniqBy)([].concat(Object(O.a)(c.data),Object(O.a)(e)),"id")}));case 7:case"end":return r.stop()}}),r)}))),5e3);return r(),function(){return clearInterval(c)}}),[o,t.id,S,t.status,a.access_token,t.broadcast_start_time,b]);var C=Le(f,a.name),T=ze(C,w);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{span:8},r.a.createElement(x.a,{title:"Comments"},r.a.createElement(Qe,{text:"replies",comments:f,perPage:10}))),r.a.createElement(y.a,{span:8},r.a.createElement(x.a,{title:"Notifies"},r.a.createElement(Ve,{text:"notifies",comments:C,perPage:10}))),r.a.createElement(y.a,{span:8},r.a.createElement(x.a,{title:"Rounds by Notifies"},"Size: ",r.a.createElement(_.a,{defaultValue:5,tooltipVisible:!0,value:I,onChange:function(e){return"number"===typeof e&&function(e){return k((function(t){return Object(j.a)(Object(j.a)({},t),{},{roundSize:e})}))}(e)}}),r.a.createElement("pre",null,T.map((function(e,t){return function(e,t,a){return"".concat(t%a===0?"----Ronda----\n":"").concat(e,"\n")}(e.from.name,t,I)}))))))},Ge=function(e){var t=Object(n.useContext)(Ee).page,a=ee(),c=Object(s.a)(a,2),i=c[0],o=c[1],m=te(),A=Object(s.a)(m,2)[1],f=Object(n.useState)(!0),p=Object(s.a)(f,2),v=p[0],b=p[1],g=Object(E.i)().id,O=e.videos.find((function(e){return e.id===g}));return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A({page:t,id:O.id}),void 0===O||!0!==i[O.id]){e.next=4;break}return b(!1),e.abrupt("return");case 4:if(void 0!==O&&"LIVE"!==O.status){e.next=7;break}return b(!1),e.abrupt("return");case 7:return e.next=9,ne("".concat(O.id,"/comments"),Object(j.a)(Object(j.a)({},Ne),{},{access_token:t.access_token}));case 9:return a=e.sent,e.next=12,re(a);case 12:return n=e.sent,e.next=15,ue(n,O.id,t.id);case 15:o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(h.a)({},O.id,!0))})),b(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v,o,A,i,O,t]),void 0===O?r.a.createElement(E.a,{to:"/live_videos"}):r.a.createElement(De,{style:{margin:"0 16px"}},r.a.createElement(C.a,{style:{margin:"16px 0"}},r.a.createElement(C.a.Item,null,t.name),r.a.createElement(C.a.Item,null,"Live Videos"),r.a.createElement(C.a.Item,null,O.title)),r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(w.a,{gutter:16},r.a.createElement(Fe,{liveVideo:O})),r.a.createElement(w.a,{gutter:16},v?r.a.createElement(d.a,null):r.a.createElement(qe,{video:O}))))},Ke=function(){var e=Pe(Object(E.i)().pageId),t=Object(s.a)(e,3),a=t[0],n=t[1],c=t[2],i=Object(E.j)();return void 0===n?r.a.createElement(d.a,null):r.a.createElement(Ee.Provider,{value:{page:n,videos:c}},r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"".concat(i.path,"/:id")},a?r.a.createElement(d.a,{size:"large"}):r.a.createElement(Ge,{videos:c})),r.a.createElement(E.b,{path:i.path},a?r.a.createElement(d.a,{size:"large"}):r.a.createElement(He,{videos:c}))))},We=a(436),Ye=a(420),Ze=a(423),Je=a(425),$e=function(e){var t=e.visible,a=e.onCreate,n=e.onCancel,c=P(),i=Object(s.a)(c,1)[0],o=Ye.a.useForm(),l=Object(s.a)(o,1)[0];return r.a.createElement(Ze.a,{visible:t,title:"Set Chatbox URL",okText:"Set",cancelText:"Cancel",onCancel:n,onOk:function(){l.validateFields().then((function(e){l.resetFields(),a(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},r.a.createElement(Ye.a,{form:l,layout:"vertical",name:"form_in_modal",initialValues:{chatboxUrl:null!==i&&void 0!==i?i:""}},r.a.createElement(Ye.a.Item,{name:"chatboxUrl",label:"Chatbox URL",rules:[{required:!0,message:"Please input the chatbox url!"}]},r.a.createElement(Je.a,{addonAfter:r.a.createElement(We.a,null),placeholder:"https://streamlabs.com/widgets/chat-box/v1/XXXXXXXXXXXXXXXXXXXX"}))))},et=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],i=P(),o=Object(s.a)(i,2),l=o[0],u=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{type:"primary",onClick:function(){c(!0)}},"Update Chatbox URL"),l,r.a.createElement($e,{visible:a,onCreate:function(e){console.log("Received values of form: ",e),u(e.chatboxUrl),c(!1)},onCancel:function(){c(!1)}}))},tt=m.a.Content,at=function(){return r.a.createElement(tt,{style:{margin:"0 16px"}},r.a.createElement(C.a,{style:{margin:"16px 0"}},r.a.createElement(C.a.Item,null,"Home")),r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(et,null)))},nt=(a(390),function(){var e=te(),t=Object(s.a)(e,1)[0],a=ae(),n=Object(s.a)(a,1)[0],c=je(t.id)(),i=Object(s.a)(c,1)[0],o=ze(Le(n,t.page.name),i),l=Object(z.chunk)(o,i.roundSize);return r.a.createElement("div",{id:"rounds-log"},l.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("h2",null,0===t?"Pa'horita":"Pal'rato"),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",null,e.from.name)}))))})))}),rt=function(){var e=Object(E.j)();return r.a.createElement(E.d,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"".concat(e.path,"/rounds")},r.a.createElement(nt,null)),r.a.createElement(E.b,{path:e.path},"This could be a loverly widgets list"),r.a.createElement(E.b,{path:"*"},r.a.createElement(E.a,{to:"/"}))))},ct=a(438),it=a(226),ot=a.n(it),lt=function(e){var t,a;return(null!==(t=null===(a=e.message_tags)||void 0===a?void 0:a.length)&&void 0!==t?t:0)>0||e.message.split(/\s/g).length>=2},ut=function(){var e,t=Object(n.useContext)(Ee).page,a=Object(n.useState)(),c=Object(s.a)(a,2),i=c[0],o=c[1],m=Object(n.useState)([]),A=Object(s.a)(m,2),d=A[0],f=A[1],v=Object(n.useState)([]),b=Object(s.a)(v,2),E=b[0],g=b[1],h=(e=null!==i&&void 0!==i?i:"",Object(z.reverse)(e.split("/").filter((function(e){return null!=e&&""!==e})))[0]);Object(n.useEffect)((function(){void 0!==h&&""!==i&&function(){var e=Object(u.a)(l.a.mark((function e(){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("".concat(t.id,"_").concat(h),{fields:"comments.limit(100).live_filter(no_filter).filter(stream){message,from,message_tags,id},reactions.limit(100){username,name,id}",access_token:t.access_token});case 2:return a=e.sent,e.next=5,re(a.comments);case 5:return n=e.sent,e.next=8,re(a.reactions);case 8:r=e.sent,f(n),g(r),console.log(a),console.log(n),console.log(r);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,t.id,t.access_token,h]);var O=E.map((function(e){return e.id})),j=Object(z.uniqBy)(d.filter(lt).filter((function(e){return O.includes(e.from.id)})),(function(e){return e.from.id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{prefix:r.a.createElement(p.a,null),placeholder:"https://www.facebook.com/".concat(t.name,"/photos/a.00000000000000000/XXXXXXXXXXXXX/"),defaultValue:i,enterButton:r.a.createElement(ct.a,null),size:"large",onSearch:function(e){return o(e)}}),r.a.createElement("p",null,"Total: ",j.length),j.map((function(e){return r.a.createElement("p",{key:"part-list-".concat(e.from.id)},r.a.createElement("small",null,e.from.id)," ",e.from.name)})))},st=m.a.Content,mt=function(){var e=Pe(Object(E.i)().pageId),t=Object(s.a)(e,3),a=t[0],n=t[1],c=t[2];return void 0===n?r.a.createElement(d.a,null):r.a.createElement(Ee.Provider,{value:{page:n,videos:c}},r.a.createElement(st,{style:{margin:"0 16px"}},r.a.createElement(C.a,{style:{margin:"16px 0"}},r.a.createElement(C.a.Item,null,null===n||void 0===n?void 0:n.name),r.a.createElement(C.a.Item,null,"Advanced Giveaway")),r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},!a&&r.a.createElement(ut,null))))},At=m.a.Footer,dt=m.a.Sider,ft=A.a.SubMenu;function pt(e){if(e.includes("/live_videos")){var t=e.split("/"),a=Object(s.a)(t,2)[1];return["page-".concat(a,"-live_videos")]}if(e.includes("/advanced_giveaway")){var n=e.split("/"),r=Object(s.a)(n,2)[1];return["page-".concat(r,"-advanced_giveaway")]}return["home"]}var vt=function(e){var t=e.showPageSelector,a=Object(n.useState)(!0),c=Object(s.a)(a,2),i=c[0],o=c[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),h=d[0],O=d[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,Y();case 3:a=e.sent,O(a.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,t]);var j=Object(n.useState)(!1),y=Object(s.a)(j,2),x=y[0],w=y[1],k=Object(E.h)();return console.log(k),r.a.createElement(dt,{collapsible:!0,collapsed:x,onCollapse:function(){return w(!x)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(A.a,{theme:"dark",defaultSelectedKeys:["home"],mode:"inline",selectedKeys:pt(k.pathname)},r.a.createElement(A.a.Item,{key:"home",icon:r.a.createElement(f.a,null)},r.a.createElement(g.b,{to:"/"},"Dashboard")),h.map((function(e){return r.a.createElement(ft,{key:"page-".concat(e.id),icon:r.a.createElement(p.a,null),title:e.name},r.a.createElement(A.a.Item,{key:"page-".concat(e.id,"-live_videos"),icon:r.a.createElement(v.a,null)},r.a.createElement(g.b,{to:"/".concat(e.id,"/live_videos")},"Live Videos")),r.a.createElement(A.a.Item,{key:"page-".concat(e.id,"-advanced_giveaway"),icon:r.a.createElement(b.a,null)},r.a.createElement(g.b,{to:"/".concat(e.id,"/advanced_giveaway")},"Advanced Giveaway")))}))))},bt=function(){var e=P(),t=Object(s.a)(e,1)[0],a=Object(n.useState)(!1),c=Object(s.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==i){e.next=11;break}if(e.prev=1,!N()){e.next=6;break}return e.next=5,H();case 5:o(!0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[i,t]),r.a.createElement(m.a,{style:{minHeight:"100vh"}},r.a.createElement(vt,{showPageSelector:i}),r.a.createElement(m.a,{className:"site-layout"},!1===i&&"string"===typeof t&&r.a.createElement(d.a,null),i?r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/:pageId/live_videos"},r.a.createElement(Ke,null)),r.a.createElement(E.b,{path:"/:pageId/advanced_giveaway"},r.a.createElement(mt,null)),r.a.createElement(E.b,{path:"/"},r.a.createElement(at,null))):r.a.createElement(at,null),r.a.createElement(At,{style:{textAlign:"center"}},"Ale Ornelas \xa92020")))},Et=function(){return r.a.createElement(g.a,{basename:"alegaming_site"},r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/widgets*"},r.a.createElement(rt,null)),r.a.createElement(E.b,{path:"*"},r.a.createElement(bt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.fbAsyncInit=function(){FB.init({appId:"662939310992071",autoLogAppEvents:!0,xfbml:!0,cookie:!0,version:"v8.0"}),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Et,null)),document.getElementById("root"))},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[235,1,2]]]);
//# sourceMappingURL=main.0d03ec99.chunk.js.map